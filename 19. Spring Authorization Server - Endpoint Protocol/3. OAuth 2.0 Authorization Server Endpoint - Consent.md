-----
### OAuth2AuthorizationConsent
-----
1. AuthorizationConsent는 OAuth2 권한 부여 요청 흐름의 권한 부여 '동의(결정)'를 나타냄
2. 클라이언트에 대한 액세스를 승인할 때, 리소스 소유자는 클라이언트가 요청한 권한의 하위 집합만 허용 가능
3. 클라이언트가 범위(Scope)를 요청하고, 리소스 소유자가 요청된 범위에 대한 액세스를 허용하거나 거부하는 authorization_code Grant 흐름
4. OAuth2 인증 요청 흐름이 완료되면, OAuth2 Authorization Consent가 생성(또는 업데이트)되고, 부여된 권한을 클라이언트 및 리소스 소유자와 연결

<div align="center">
<img src="https://github.com/user-attachments/assets/dd08cc26-ab9e-49ea-94e5-7a419249ba7d">
</div>

  - scope 정보가 authorities로 Mapping되어 저장

-----
### OAuth2AuthorizationConsentService
-----
1. OAuth2AuthorizationConsent가 저장되고, 기존 OAuth2AuthorizationConsent를 조회하는 클래스
2. 주로, OAuth2 권한 부여 요청 흐름을 구현하는 구성 요소에 의해 사용
3. 기본 구현체 : InMemoryOAuth2AuthorizationConsentService, JdbcOAuth2AuthorizationConsentService

<div align="center">
<img src="https://github.com/user-attachments/assets/a8c4bbe1-ec38-4da2-9ca6-c365b46ce707">
</div>

-----
### Resource Owner 인증 및 Scope 동의 단계 1
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/8bd10966-ab85-412d-8f98-af6b7d4bd041">
</div>

1. Form 로그인 인증 : UsernamePasswordAuthenticationFilter
2. SavedRequestAwareAuthenticationSuccessHandler가 권한 부여 요청을 OAuth2AuthorizationEndpointFilter로 다시 전달
3. openid는 인증 프로토콜의 한 종류이므로, ConsentPage에는 미출력

-----
### Resource Owner 인증 및 Scope 동의 단계 2
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/6993259c-b04b-48a5-87ee-e664e7b79fdc">
</div>

1. Submit Consent로 하면, 다시 /oauth2/authorize로 POST 방식으로 전달해 OAuth2AuthorizationEndpointFilter로 전달
2. OAuth2Authorization : 인가 서버에 저장된 정보 (클라이언트가 최초로 인가 서버에 저장한 정보) / authorizationCodeRequestAuthentication : 사용자가 최종 동의하기 선택한 정보 (최초에 인가 서버로 저장한 정보 외 추가로 선택한 정보)
3. 💡 Consent에서 아무것도 선택하지 않아도 access_denied 에러 발생 (모든 정보 Remove)
4. 동의하기 과정을 거친 후, 임시 코드 (Authorization Code)를 생성해 저장
