-----
### JCA (Java Cryptography Architecture) & JCE (Java Cryptography Extention) ì†Œê°œ
-----
1. ìë°”ëŠ” JCA & JCE í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ìì²´ì ì¸ ë³´ì•ˆ ê´€ë ¨ ê¸°ëŠ¥ì„ ì œê³µ (JCEëŠ” JCAì˜ í™•ì¥ëœ ë²„ì „)
2. ì „ì ì„œëª… (Digital Signature), ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ (Message Digest, hashs), ì¸ì¦ì„œì™€ ì¸ì¦ì„œ ìœ íš¨ì„± ê²€ì‚¬ (Ceritificate Validation), í‚¤ ìƒì„± ë° ê´€ë¦¬ ê·¸ë¦¬ê³  ë³´ì•ˆ ëœë¤ ìˆ˜ (Secure Random Number) ìƒì„± ë“± í˜„ëŒ€ ì •ë³´ í†µì‹  ì•”í˜¸ ê¸°ìˆ  ì¤‘ í•„ìˆ˜ì ì¸ ê²ƒì€ ëª¨ë‘ ì œê³µ
3. ğŸ’¡ JCA & JCE í”„ë ˆì„ì›Œí¬ëŠ” Provider ë³´ì•ˆ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ì•ˆê³¼ ê´€ë ¨í•œ ë‹¤ì–‘í•œ API ì œê³µ
4. ProviderëŠ” java.security.Provider í´ë˜ìŠ¤ì˜ êµ¬í˜„ì²´ë¡œ ë³´ì•ˆ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ì²´ ëª©ë¡ì„ í¬í•¨í•˜ê³  ìˆê³ , ì´ë¥¼ í†µí•´ ë³´ì•ˆ ì„œë¹„ìŠ¤ êµ¬í˜„ ê°€ëŠ¥
5. ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ì•Œê³ ë¦¬ì¦˜ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•´ì§€ë©´, JCA & JCE í”„ë ˆì„ì›Œí¬ëŠ” Provider ì €ì¥ì†Œì—ì„œ í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì˜ ì í•©í•œ êµ¬í˜„ì²´ í´ë˜ìŠ¤ë¥¼ ì°¾ì•„ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ”ë° Providerë¥¼ ì§ì ‘ ì§€ì • ê°€ëŠ¥

<div align="center">
<img src="https://github.com/user-attachments/assets/96f4e5a3-4dba-41f6-bcb6-767478c9c4b6">
</div>

-----
### MessageDigest - ëŒ€ì¹­í‚¤
-----
1. ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ì˜ ëª©ì ì€ ì›ë³¸ íŒŒì¼ì´ ê·¸ëŒ€ë¡œì¸ì§€ íŒŒì•…í•˜ëŠ” ë¬´ê²°ì„± ê²€ì‚¬
2. ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ ì•Œê³ ë¦¬ì¦˜ì€ ì…ë ¥ ê°’ìœ¼ë¡œ ì „ë‹¬ëœ ë‹¤ì–‘í•œ ê¸¸ì´ì˜ ì›ë³¸ ê°’ì„ ê³ ì • ê¸¸ì´ í•´ì‹œ ê°’ìœ¼ë¡œ ì¶œë ¥
3. ì´ ì•Œê³ ë¦¬ì¦˜ì€ ë‹¨ë°©í–¥ì´ë¯€ë¡œ, í•´ì‹œ ê°’ì—ì„œ ê±°ê¾¸ë¡œ ì›ë³¸ ê°’ ë„ì¶œ ë¶ˆê°€ (ì•”í˜¸í™” ê°€ëŠ¥, ë³µí˜¸í™” ë¶ˆê°€ëŠ¥)

<div align="center">
<img src="https://github.com/user-attachments/assets/4a957b43-7dba-46e2-9b7b-c7ccc773123c">
</div>

4. ê°‘ê³¼ ì„ì˜ êµì‹  ìƒí™©ì—ì„œ ê°‘ì€ ì„ì—ê²Œ ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ì›ë³¸ê³¼, ê·¸ ì›ë³¸ì˜ ë©”ì„¸ì§€ í•´ì‹œ ê°’ ê·¸ë¦¬ê³  ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ ì•Œê³ ë¦¬ì¦˜ì„ ë³´ëƒ„
5. ì„ì€ ê°‘ì´ ì „ë‹¬í•œ ì•Œê³ ë¦¬ì¦˜ê³¼ ì›ë³¸ì„ ê°€ì§€ê³ , ë©”ì„¸ì§€ í•´ì‹œ ê°’ ê³„ì‚°
6. ì„ì´ ê³„ì‚°í•œ ë©”ì„¸ì§€ í•´ì‹œ ê°’ì´ ê°‘ì´ ì „ë‹¬í•œ ë©”ì„¸ì§€ í•´ì‹œ ê°’ê³¼ ì¼ì¹˜í•˜ë©´, ê°‘ì´ ì „ë‹¬í•œ ì›ë³¸ì´ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì„ì—ê²Œ ì˜¤ê¸°ê¹Œì§€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒ í™•ì¸ ê°€ëŠ¥

-----
### Signature (ì„œëª…) - ë¹„ëŒ€ì¹­í‚¤
-----
1. SignatureëŠ” ì´ˆê¸°í™” ì‹œ ì œê³µë°›ì€ í‚¤ ë¥¼ ì‚¬ìš©í•´ì„œ, ë°ì´í„°ë¥¼ ì„œëª…í•˜ê³  ì „ì ì„œëª…ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•˜ëŠ”ë° ì‚¬ìš©
<div align="center">
<img src="https://github.com/user-attachments/assets/9e8bb8c5-5661-41a9-815e-94992c283bc8">
</div>

2. ì„œëª…
   - Signature ê°ì²´ëŠ” ê°œì¸ í‚¤ë¡œ ì„œëª…í•˜ê¸° ìœ„í•´ ì´ˆê¸°í™”ë˜ê³ , ì„œëª…í•  ì›ë³¸ ë°ì´í„°ê°€ ì œê³µ
   - Signatureì˜ sign()ì€ ê°œì¸ í‚¤ë¡œ ì›ë³¸ ë°ì´í„°ë¥¼ ì„œëª…í•˜ë©´, í•´ì‹œëœ ë°ì´í„°ë¥¼ ì•”í˜¸í™”ëœ Signature Bytesë¥¼ ë°˜í™˜

3. ê²€ì¦
   - ê²€ì¦ì´ í•„ìš”í•œ ê²½ìš° ê²€ì¦ì„ ìœ„í•´ Signature ê°ì²´ë¥¼ ìƒì„± ë° ì´ˆê¸°í™”í•˜ê³ , ê°œì¸í‚¤ì™€ ìŒì„ ì´ë£¨ëŠ” í•´ë‹¹ ê³µê°œ í‚¤ë¥¼ ì œê³µ
   - ì›ë³¸ ë°ì´í„°ì™€ Signature Bytesê°€ ê²€ì¦ Signature ê°ì²´ì— ì „ë‹¬ë˜ê³ , verify()ë¥¼ ì‹¤í–‰í•˜ë©´, ê³µê°œí‚¤ë¡œ Signature Bytesì˜ í•´ì‹œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ì›ë³¸ë°ì´í„°ë¥¼ í•´ì‹œí•œ ê°’ê³¼ ë¹„êµí•´ì„œ ì¼ì¹˜í•˜ë©´, Signature ê°ì²´ê°€ ì„±ê³µì„ ë³´ê³ 

4. ì„œëª…ì€ ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ì™€ ë¹„ëŒ€ì¹­í‚¤ ì•”í˜¸í™”ê°€ ê²°í•©í•œ í˜•íƒœë¡œ "SHA256WithRSA" ì²˜ëŸ¼ ë©”ì‹œì§€ ë‹¤ì´ì œìŠ¤íŠ¸ ì•Œê³ ë¦¬ì¦˜ì¸ "SHA256"[í•´ì‹œ ì•”í˜¸í™”]ì„ ì‚¬ìš©í•˜ì—¬ ì´ˆê¸°ì— ëŒ€ê·œëª¨ ë°ì´í„°ë¥¼ ë³´ë‹¤ ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ ê³ ì •ê¸¸ì´ì˜ í˜•ì‹ìœ¼ë¡œ 'ì••ì¶•'í•œë‹¤ìŒ, ë¹„ëŒ€ì¹­í‚¤ ì•”í˜¸í™”ì¸ 'RSA' ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ê³ ì • ê¸¸ì´ì˜ 32ë°”ì´íŠ¸ ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ì— ì„œëª…

-----
### ì½”ë“œ
-----
1. MessageDigestTest
```java
package io.security.oauth2.springsecurityoauth2;

import java.io.ByteArrayOutputStream;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.security.MessageDigest;
import java.security.SecureRandom;
import java.util.Arrays;

public class MessageDigestTest {

        public static void messageDigest(String message) throws Exception {
            createMD5(message); // í•´ì‹œ ê°’ ìƒì„±
            validateMD5(message); // ë¬´ê²°ì„± ê²€ì‚¬
        }
        public static void createMD5 (String message) throws Exception {

            SecureRandom random = new SecureRandom(); 
            byte[] salt = new byte[10]; // 10ë°”ì´íŠ¸ì˜ ëœë¤ ìˆ˜ ìƒì„±
            random.nextBytes(salt); // saltë¡œ ì„¤ì • (ë¬´ì‘ìœ„ ìˆ˜ë¥¼ ìƒì„±)

            MessageDigest messageDigest = MessageDigest.getInstance("MD5"); // MessageDigest ìƒì„±
            messageDigest.update(salt); // salt ì—…ë°ì´íŠ¸
            messageDigest.update(message.getBytes("UTF-8"));

            byte[] digest = messageDigest.digest(); // Digestì—ëŠ” salt í¬í•¨

            FileOutputStream fileOutputStream = new FileOutputStream("E:\\project\\spring-security-oauth2\\src\\main\\resources\\message.txt"); // message.txtì— ì €ì¥
            fileOutputStream.write(salt); // salt ì €ì¥ (ë¬´ê²°ì„± ê²€ì‚¬ë¥¼ ìœ„í•´ ì €ì¥)
            fileOutputStream.write(digest); // digest ì €ì¥
            fileOutputStream.close();
        }

        public static void validateMD5(String message) throws Exception {

            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            FileInputStream fis = new FileInputStream("E:\\project\\spring-security-oauth2\\src\\main\\resources\\message.txt"); // message.txt íŒŒì¼ ì½ê¸°
            int theByte = 0;
            while ((theByte = fis.read()) != -1) // í•˜ë‚˜ì”© ì½ìŒ
                byteArrayOutputStream.write(theByte); // ë©”ëª¨ë¦¬ì— ì €ì¥
            fis.close();
            byte[] hashedMessage = byteArrayOutputStream.toByteArray(); // í•´ì‹œëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ (salt í¬í•¨)
            byteArrayOutputStream.reset(); // Stream ì´ˆê¸°í™”

            byte[] salt = new byte[10]; 
            System.arraycopy(hashedMessage, 0, salt, 0, 10); // salt ê°’ë§Œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì´ˆê¸° 10ë°”ì´íŠ¸ì˜ ê°’ë§Œ ê°€ì ¸ì˜´
            MessageDigest md = MessageDigest.getInstance("MD5"); // MessageDigestë¥¼ í†µí•´ ê°ì²´ ì–»ìŒ
            md.update(salt); // salt ë°ì´í„° ìƒì„±
            md.update(message.getBytes("UTF-8"));
            byte[] digest = md.digest(); // digest ê³¼ì •

            byte[] digestInFile = new byte[hashedMessage.length - 10]; // saltë¥¼ ëº€ ê°’ì„ ì €ì¥
            System.arraycopy(hashedMessage, 10, digestInFile, 0, hashedMessage.length - 10);

            if (Arrays.equals(digest, digestInFile)) // ë‘ ë°°ì—´ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸ 
                System.out.println("message matches."); // ì¼ì¹˜í•˜ë©´ ë™ì¼í•œ ê²ƒ (ë¬´ê²°ì„± ê²€ì‚¬ í™•ì¸ ì™„ë£Œ)
            else
                System.out.println("message does not matches.");
        }
}
```

2. SignatureTest
```java
package io.security.oauth2.springsecurityoauth2;

import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.Signature;
import java.security.SignatureException;
import java.util.Base64;

public class SignatureTest {

    public static void signature(String message) throws Exception {

        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance("RSA"); // í‚¤ ìŒì„ ì–»ê¸° ìœ„í•´ KeyPairGenerator ì‚¬ìš©
        keyPairGenerator.initialize(2048); // í‚¤ ì‚¬ì´ì¦ˆ ì„¤ì •
        KeyPair keyPair = keyPairGenerator.genKeyPair(); // KeyPair ë°›ì•„ì˜´ (Private, Public Key)

        // ì „ì ì„œëª…
        byte[] data = message.getBytes("UTF-8");
        Signature signature = Signature.getInstance("SHA256WithRSA"); // Signature ê°ì²´ ê°€ì ¸ì˜´ 
        signature.initSign(keyPair.getPrivate()); // Private Keyë¡œ ì„œëª…í•˜ê¸° ìœ„í•´ ì´ˆê¸°í™”
        signature.update(data); // ì›ë³¸ ë°ì´í„° Update

        byte[] sign = signature.sign(); // ì„œëª…

        // ê²€ì¦
        signature.initVerify(keyPair.getPublic()); // Public Keyë¡œ ê²€ì¦
        signature.update(data); // ì›ë³¸ ë°ì´í„° ì—…ë°ì´íŠ¸

        boolean verified = false;

        try {
            verified = signature.verify(sign); // ìµœì¢… ì„œëª…í•œ ê²°ê³¼ë¥¼ ê²€ì¦

        } catch (SignatureException e) {
            System.out.println("ì „ìì„œëª… ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ë°œìƒ");
            e.printStackTrace();
        }
        if(verified) // ê²€ì¦ë˜ë©´,
            System.out.println("ì „ìì„œëª… ê²€ì¦ ì„±ê³µ");
        else
            System.out.println("ì „ìì„œëª… ê²€ì¦ ì‹¤íŒ¨");
    }
}
```

3. SpringSecurityOauth2Application
```java
package io.security.oauth2.springsecurityoauth2;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class SpringSecurityOauth2Application {
    public static void main(String[] args) throws Exception {
        // MessageDigestTest.messageDigest("Spring Security"); // ì›ë³¸ ë°ì´í„° ë¬¸ìì—´
        signature("Spring Security"); // Signature
        // SpringApplication.run(SpringSecurityOauth2Application.class, args);
    }
}
```
