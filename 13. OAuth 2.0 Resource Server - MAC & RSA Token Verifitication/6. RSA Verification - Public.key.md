-----
### KeyStore 클래스
-----
1. Java는 KeyStore라는 인터페이스를 통해 암호화 / 복호화 및 전자 서명에 사용되는 Private Key, Public key와 Certificate를 추상화하여 제공
2. KeyStore에는 Secret Key, Private Key, Public Key, Certificate와 같은 보안 파일들이 저장
3. KeyStore에는 파일 시스템에 저장하고 암호로 보호 가능
4. keytool을 사용해서 생성할 수 있으며, 기본 타입은 jks

-----
### keytool
-----
1. 자바에서 제공하는 유틸리티로 KeyStore 기반으로 인증서와 키를 관리할 수 있으며, JDK에 포함
  - ```C:\Program Files\Java\jdk-17\bin\keytool.exe```

2. KeyStore 생성 후 Private Key, Public Key, Certificate 생성
   - Prviate Key 생성 : keytool -genkeypair -alias apiKey -keyalg RSA -keypass "pass1234" -keystore apiKey.jks -storepass "pass1234"
   - Certificate 생성 : keytool -export -alias apiKey -keystore apiKey.jks -rfc -file trustServer.cer
   - Public Key 생성 : keytool -import -alias trustServer -file trustServer.cer -keystore publicKey.jks

-----
### 순서
-----
1. KeyStore의 객체를 얻음
   - keytool을 통해 얻은 apiKey.jks 파일을 읽어오면, 키와 인증서를 가져올 수 있음
   - 여기에는 개인키와 인증서, 공개키 정보를 저장
     + KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType()); // 기본 타입은 .jks (java key store)
     + keystore.load(new FileInputStream("/certs/apiKey.jks", keystorepassword.toCharArray()); // 기존 키 저장소를 load

2. 개인키를 얻어옴
   - PrivateKey key = (PrivateKey) keystore.getKey(alias, "test1234".toCharArray());
  
3. 인증서를 얻음
   - Certificate certificate = keystore.getCertificate(alias);
  
4. 인증서로부터 공개키를 얻고, Base64로 인코딩한 다음 문자열을 변환
   - PublicKey publicKey = certificate.getPublicKey();
   - String publicStr = java.util.Base64.getMimeEncoder().encodeToString(publicKey.getEncoded());

5. 인코딩된 공개키 문자열을 txt 파일로 저장
   - OutputStreamWriter writer = new OutputStreamWriter(new FileOutputStream("/certs/publickey.txt"), Charset.defaultCharset());
   - writer.write(publicStr);
   - writer.close();

-----
### 설정 클래스 생성
-----
1. JwtDecoderConfig
<div align="center">
<img src="https://github.com/user-attachments/assets/0bf3207e-5386-4d90-98fb-64aa3d74f68a">
</div>

2. OAuth2ResourceServer : 리소스 서버 설정 클래스로서, KeyStore에서 추출한 PublicKey에 의해 RSA 인증 및 인가 처리 설정
3. RsaPublicKeySecuritySigner : SecuritySigner를 상속받으며, RSA 암호화 방식의 서명 및 토큰 발행
4. RsaKeyExtractor : apiKey.jks로부터 Private Key와 Public Key를 추출하고 파일에 저장하는 클래스



   
